<!DOCTYPE html>













<html class="theme-next pisces" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">




  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2">





  <meta name="google-site-verification" content="4ub2lNf2WEkusifo-b7xbJIm2G5xxYUczDoWOFGp-NM">



  <meta name="msvalidate.01" content="C2030D8E2452D4B39AED09488E55F2DF">





  <meta name="baidu-site-verification" content="ujJ5Hav7vs">









<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">

<link rel="stylesheet" href="/css/main.css?v=7.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon-logo.png?v=7.2.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-logo.png?v=7.2.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-logo.png?v=7.2.0">


  <link rel="mask-icon" href="/images/favicon-logo.png?v=7.2.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.2.0',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: true,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  






  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-9068539038073295",
      enable_page_level_ads: true
    });
  </script>


  <meta name="description" content="jQueryjQuery 基本介绍为什么要学 jQuery使用 JS 操作 DOM 的时候，会遇到以下的一些缺点：  获取元素的方法太少且长，麻烦 遍历伪数组很麻烦，通常要嵌套一大堆的 for 循环。注册的事件会覆盖 有兼容性问题 实现动画很麻烦  jQuery 初体验【让div显示与设置内容】 $(document).ready(function () &amp;#123;  $(&apos;#btn1&apos;).cl">
<meta name="keywords" content="jquery">
<meta property="og:type" content="article">
<meta property="og:title" content="jquery">
<meta property="og:url" content="https://cuilongjin.top/2018/jquery/jquery/index.html">
<meta property="og:site_name" content="稻草人">
<meta property="og:description" content="jQueryjQuery 基本介绍为什么要学 jQuery使用 JS 操作 DOM 的时候，会遇到以下的一些缺点：  获取元素的方法太少且长，麻烦 遍历伪数组很麻烦，通常要嵌套一大堆的 for 循环。注册的事件会覆盖 有兼容性问题 实现动画很麻烦  jQuery 初体验【让div显示与设置内容】 $(document).ready(function () &amp;#123;  $(&apos;#btn1&apos;).cl">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2018-12-20T11:27:00.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="jquery">
<meta name="twitter:description" content="jQueryjQuery 基本介绍为什么要学 jQuery使用 JS 操作 DOM 的时候，会遇到以下的一些缺点：  获取元素的方法太少且长，麻烦 遍历伪数组很麻烦，通常要嵌套一大堆的 for 循环。注册的事件会覆盖 有兼容性问题 实现动画很麻烦  jQuery 初体验【让div显示与设置内容】 $(document).ready(function () &amp;#123;  $(&apos;#btn1&apos;).cl">



  <link rel="alternate" href="/atom.xml" title="稻草人" type="application/atom+xml">



  
  
  <link rel="canonical" href="https://cuilongjin.top/2018/jquery/jquery/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>jquery | 稻草人</title>
  




  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-112496567-1"></script>
  <script>
    var host = window.location.hostname;
    if (host !== "localhost" || !true) {
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-112496567-1');
    }
  </script>



  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?4cf9aa5b4589576262198ad166b18a05";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>







  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
    
  
    <css-doodle>
	:doodle {
		@grid: 1x3 / 100vmax;
    position: absolute;
    top: 0; left: 0;
    z-index: 0;
	}

	@size: 100% 150%;
	position: absolute;

	background: @m(100, (
		linear-gradient(transparent, @p(
      #FFFDE1@repeat(2, @p([0-9a-f])),
      #FB3569@repeat(2, @p([0-9a-f]))
    ))
		@r(0%, 100%) @r(0%, 100%) /
		@r(1px) @r(23vmin)
		no-repeat
	));

	will-change: transform;
	animation: f 20s linear calc(-20s / @size() * @i()) infinite;
	@keyframes f {
		from { transform: translateY(-100%) }
		to { transform: translateY(100%) }
	}
</css-doodle>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/css-doodle/0.6.1/css-doodle.min.js"></script>

  



    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">稻草人</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-收藏">

    
    
      
    

    

    <a href="/collect/" rel="section"><i class="menu-item-icon fa fa-fw fa-bookmark"></i> <br>收藏</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://cuilongjin.top/2018/jquery/jquery/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="稻草人">
      <meta itemprop="description" content="A doc for web">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="稻草人">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">jquery<a href="https://github.com/cuilongjin/cuilongjin.github.io/tree/dev/source/_posts/jquery/jquery.md" class="post-edit-link" title="编辑" rel="noopener" target="_blank"><i class="fa fa-pencil"></i></a>

              
            
          </h2>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-10-16 18:00:00" itemprop="dateCreated datePublished" datetime="2018-10-16T18:00:00+08:00">2018-10-16</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-12-20 19:27:00" itemprop="dateModified" datetime="2018-12-20T19:27:00+08:00">2018-12-20</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/框架/" itemprop="url" rel="index"><span itemprop="name">框架</span></a></span>

                
                
                  ，
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/框架/jquery/" itemprop="url" rel="index"><span itemprop="name">jquery</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">评论数：</span>
                <a href="/2018/jquery/jquery/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2018/jquery/jquery/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
            <span id="/2018/jquery/jquery/" class="post-meta-item leancloud_visitors" data-flag-title="jquery">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="jQuery"><a href="#jQuery" class="headerlink" title="jQuery"></a>jQuery</h1><h2 id="jQuery-基本介绍"><a href="#jQuery-基本介绍" class="headerlink" title="jQuery 基本介绍"></a>jQuery 基本介绍</h2><h3 id="为什么要学-jQuery"><a href="#为什么要学-jQuery" class="headerlink" title="为什么要学 jQuery"></a>为什么要学 jQuery</h3><p>使用 JS 操作 DOM 的时候，会遇到以下的一些缺点：</p>
<ul>
<li>获取元素的方法太少且长，麻烦</li>
<li>遍历伪数组很麻烦，通常要嵌套一大堆的 for 循环。注册的事件会覆盖</li>
<li>有兼容性问题</li>
<li>实现动画很麻烦</li>
</ul>
<h3 id="jQuery-初体验"><a href="#jQuery-初体验" class="headerlink" title="jQuery 初体验"></a>jQuery 初体验</h3><p>【让div显示与设置内容】</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  $(<span class="string">'#btn1'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 隐式迭代：偷偷的遍历，在jQuery中，不需要手动写for循环了，会自动进行遍历。</span></span><br><span class="line">    <span class="comment">// show() 显示元素</span></span><br><span class="line">    $(<span class="string">'div'</span>).show(<span class="number">200</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  $(<span class="string">'#btn2'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// text() 设置文本内容</span></span><br><span class="line">    $(<span class="string">'div'</span>).text(<span class="string">'我是内容'</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  $(<span class="string">'#btn3'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// css(name, value);  设置样式</span></span><br><span class="line">    <span class="comment">// name: 设置什么样式</span></span><br><span class="line">    <span class="comment">// value ： 设置的值是多少</span></span><br><span class="line">    $(<span class="string">'div'</span>).css(<span class="string">'fontSize'</span>, <span class="number">30</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>使用 jQuery 的优点</strong></p>
<ul>
<li>获取元素的方式非常的简单，而且非常的丰富</li>
<li>jQuery 的隐式迭代特性，不再需要书写 for 循环语句</li>
<li>使用 jQuery 完全不用考虑兼容性问题</li>
<li>jQuery 提供了一系列动画相关的函数，使用非常方便</li>
<li>代码简单、粗暴</li>
</ul>
<p><strong>什么是 jQuery</strong></p>
<blockquote>
<p>jQuery 是一个快速的、轻量的、功能丰富的 js 库</p>
</blockquote>
<p>jQuery 的官网 <a href="http://jquery.com/" target="_blank" rel="noopener">http://jquery.com/</a></p>
<p>js 库：把一些常用到的方法写到一个单独的 js 文件，使用的时候直接去引用这 js 文件就可以了。（animate.js、common.js）</p>
<h3 id="版本介绍"><a href="#版本介绍" class="headerlink" title="版本介绍"></a>版本介绍</h3><p>官网下载地址：<a href="http://jquery.com/download/" target="_blank" rel="noopener">http://jquery.com/download/</a></p>
<p>jQuery 版本有很多，分为 1.x 2.x 3.x</p>
<p>大版本分类：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1.x 版本：能够兼容IE678浏览器（最终版本1.12.4）</span><br><span class="line">2.x 版本：不兼容IE678浏览器（最终版本2.2.4）</span><br><span class="line">3.x 版本：不兼容IE678，更加的精简（在国内不流行，因为国内使用 jQuery 的主要目的就是兼容IE678）,3.x 版本只是在原来的基础上增加了一些新的特性</span><br></pre></td></tr></table></figure>

<p>关于压缩版和未压缩版</p>
<ul>
<li><code>jquery.min.js</code>：压缩版本，适用于生产环境，因为文件比较小，去除了注释、换行、空格等东西，采用了代码混淆，基本没有可阅读性</li>
<li><code>jquery.js</code>：未压缩版本，适用于学习与开发环境，源码清晰，易阅读</li>
</ul>
<h3 id="入口函数"><a href="#入口函数" class="headerlink" title="入口函数"></a>入口函数</h3><p>入口函数的好处：</p>
<ul>
<li>等待文档加载完成，不论代码是写在 body、head 中都可以正常去获取到元素</li>
<li>形成了一个沙箱，防止全局变量污染</li>
</ul>
<p>两种写法：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 第一种写法</span></span><br><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;)</span><br><span class="line"><span class="comment">// 第二种写法</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;)</span><br></pre></td></tr></table></figure>

<p>原生 JavaScript 的入口函数：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>jQuery 入口函数与 js 入口函数的对比</p>
<ul>
<li>JavaScript 的入口函数要等到页面中所有资源（包括图片、文件等外部资源）加载完成才开始执行。jQuery 的入口函数只会等待文档树加载完成就开始执行，并不会等待图片、文件的加载。所以 jQuery 的入口函数要比 js 入口函数先执行</li>
<li>window.onload 存在覆盖问题；jq 的入口函数不存在覆盖问题</li>
</ul>
<h3 id="jQuery-使用步骤"><a href="#jQuery-使用步骤" class="headerlink" title="jQuery 使用步骤"></a>jQuery 使用步骤</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 引包（引入js文件） --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">'jquery.js'</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">  <span class="comment">// 写上入口函数</span></span></span><br><span class="line"><span class="javascript">  $(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;)</span></span><br><span class="line"><span class="javascript">  <span class="comment">// 或者</span></span></span><br><span class="line"><span class="javascript">  $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 在入口函数内部实现功能</span></span></span><br><span class="line"><span class="undefined">  &#125;)</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="jquery-中的-符号"><a href="#jquery-中的-符号" class="headerlink" title="jquery 中的 $ 符号"></a>jquery 中的 $ 符号</h3><p>$ 来源于  jQuery ， 是个函数（查看jQuery源码中最后几行代码）</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// jquery 和 $ 是等价的</span></span><br><span class="line">jQuery === $ <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p><strong>作用</strong>：根据参数的不同， 作用是不同的</p>
<ul>
<li><p>参数是个函数  <code>$(function(){})</code> 作用是入口函数</p>
</li>
<li><p>参数是个 dom 对象  <code>$(document)</code> 作用是 dom 转 jq</p>
</li>
<li><p>参数是选择器  <code>$(&#39;body&#39;)</code>  作用是获取元素</p>
</li>
<li><p>参数是个 html 字符串 <code>$(&#39;&lt;a&gt;123&lt;/a&gt;&#39;)</code>  作用是创建节点</p>
</li>
</ul>
<h3 id="jQuery-对象与-DOM-对象"><a href="#jQuery-对象与-DOM-对象" class="headerlink" title="jQuery 对象与 DOM 对象"></a>jQuery 对象与 DOM 对象</h3><p><strong>基本概念：</strong></p>
<ol>
<li><code>DOM 对象</code>：使用 JavaScript 中的方法获取页面中的元素返回的对象就是 Dom 对象</li>
<li><code>jQuery 对象</code>：jquery 对象就是使用 jquery 的方法获取页面中的元素返回的对象</li>
<li>jQuery 对象其实就是 DOM 对象的包装集（包装了 DOM 对象的集合），是一个 <strong>伪数组</strong></li>
</ol>
<p><strong>jQuery 对象与 DOM 对象的区别：</strong></p>
<ol>
<li>DOM 对象与 jQuery 对象的方法不能混用。dom 对象不能使用 jq 对象的方法，jq 对象也不能使用 dom 对象的属性和方法</li>
<li>DOM 对象可以和 jQuery 对象可以相互转化</li>
</ol>
<ul>
<li>DOM 对象转换成 jQuery 对象：【联想记忆：花钱】</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 将 dom 对象作为参数传递到 $() 里面去， 那么这个整体就是个jq对象</span></span><br><span class="line"><span class="keyword">var</span> $obj = $(domObj)</span><br></pre></td></tr></table></figure>

<ul>
<li>jQuery 对象转换成 DOM 对象：</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 通过 $()  来获取到的元素返回的对象就是jq对象</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> $li = $(<span class="string">'li'</span>)</span><br><span class="line"><span class="comment">// 第一种方法,通过下标取出（推荐使用）</span></span><br><span class="line">$li[<span class="number">0</span>]</span><br><span class="line"><span class="comment">// 第二种方法</span></span><br><span class="line">$li.get(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<p>【练习：隔行变色案例】</p>
<h2 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h2><h3 id="jQuery-选择器"><a href="#jQuery-选择器" class="headerlink" title="jQuery 选择器"></a>jQuery 选择器</h3><p>jQuery 选择器是 jQuery 为我们提供的一组方法，让我们更加方便的获取到页面中的元素。注意：jQuery 选择器返回的是 jQuery 对象</p>
<p>jQuery 选择器有很多，基本兼容了 CSS1 到 CSS3 所有的选择器，并且 jQuery 还添加了很多更加复杂的选择器</p>
<h3 id="css-选择器"><a href="#css-选择器" class="headerlink" title="css 选择器"></a>css 选择器</h3><p>jQuery 完全兼容 css 选择器</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>用法</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td>ID选择器</td>
<td>$(‘#id’)</td>
<td align="left">获取指定 id 的元素</td>
</tr>
<tr>
<td>类选择器</td>
<td>$(‘.class’)</td>
<td align="left">获取同一类 class 的元素</td>
</tr>
<tr>
<td>标签选择器</td>
<td>$(‘div’)</td>
<td align="left">获取同一类标签的所有元素</td>
</tr>
<tr>
<td>并集选择器</td>
<td>$(‘div, p, li’)</td>
<td align="left">使用逗号分隔，只要符合条件之一就可</td>
</tr>
<tr>
<td>交集选择器</td>
<td>$(‘div.redClass’)</td>
<td align="left">获取 class 为 redClass 的 div 元素</td>
</tr>
<tr>
<td>子代选择器</td>
<td>$(‘ul&gt;li’)</td>
<td align="left">使用 &gt; 号，获取儿子层级的元素，注意，并不会获取孙子层级的元素</td>
</tr>
<tr>
<td>后代选择器</td>
<td>$(‘ul li’)</td>
<td align="left">使用空格，代表后代选择器，获取 ul 下的所有 li 元素，包括孙子等</td>
</tr>
</tbody></table>
<h3 id="过滤选择器"><a href="#过滤选择器" class="headerlink" title="过滤选择器"></a>过滤选择器</h3><p>这类选择器都带冒号 <code>:</code></p>
<table>
<thead>
<tr>
<th>名称</th>
<th>用法</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>:eq(index)</code></td>
<td>$(‘li:eq(2)’)</td>
<td align="left">获取 li 元素中，选择索引号为 2 的元素，索引号 index 从 0 开始</td>
</tr>
<tr>
<td><code>:odd</code></td>
<td>$(‘li:odd’)</td>
<td align="left">获取 li 元素中，选择索引号为奇数的元素</td>
</tr>
<tr>
<td><code>:even</code></td>
<td>$(‘li:even’)</td>
<td align="left">获取 li 元素中，选择索引号为偶数的元素</td>
</tr>
<tr>
<td><code>:first</code></td>
<td>$(‘li:first’)</td>
<td align="left">获取 li 元素中的第一个</td>
</tr>
<tr>
<td><code>:last</code></td>
<td>$(‘li:last’)</td>
<td align="left">获取 li 元素中的最后一个</td>
</tr>
</tbody></table>
<p>【案例：隔行变色】</p>
<h3 id="筛选选择器-方法"><a href="#筛选选择器-方法" class="headerlink" title="筛选选择器(方法)"></a>筛选选择器(方法)</h3><p>筛选选择器的功能与过滤选择器有点类似，但是用法不一样，<code>筛选选择器</code> 主要是方法</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>用法</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>children(selector)</code></td>
<td>$(‘ul’).children(‘li’)</td>
<td align="left">获取当前元素的所有子元素中的 li 元素</td>
</tr>
<tr>
<td><code>find(selector)</code></td>
<td>$(‘ul’).find(‘li’)</td>
<td align="left">获取当前元素中的后代元素中的 li 元素</td>
</tr>
<tr>
<td><code>siblings(selector)</code></td>
<td>$(‘#first’).siblings(‘li’)</td>
<td align="left">查找兄弟节点，不包括自己本身</td>
</tr>
<tr>
<td><code>parent()</code></td>
<td>$(‘#first’).parent()</td>
<td align="left">查找父亲</td>
</tr>
<tr>
<td><code>parents()</code></td>
<td>$(‘#first’).parents(‘’)</td>
<td align="left">查找所有祖宗（参数 指定具体祖宗）</td>
</tr>
<tr>
<td><code>eq(index)</code></td>
<td>$(‘li’).eq(2)</td>
<td align="left">相当于<code>$(&#39;li:eq(2)&#39;)</code>，index从 0 开始</td>
</tr>
<tr>
<td><code>next()</code></td>
<td>$(‘li’).next()</td>
<td align="left">找下一个兄弟</td>
</tr>
<tr>
<td><code>nextAll()</code></td>
<td>$(‘li’).nextAll()</td>
<td align="left">找后面所有的兄弟</td>
</tr>
<tr>
<td><code>prev()</code></td>
<td>$(‘li’).prev()</td>
<td align="left">找上一个兄弟</td>
</tr>
<tr>
<td><code>prevAll()</code></td>
<td>$(‘li’).prevAll()</td>
<td align="left">找前面所有的兄弟</td>
</tr>
</tbody></table>
<p>【案例：下拉菜单】<br>【案例：突出展示】<br>【案例：手风琴】<br>【案例：淘宝精品】</p>
<h3 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h3><h4 id="mouseover-与-mouseenter"><a href="#mouseover-与-mouseenter" class="headerlink" title="mouseover 与 mouseenter"></a><code>mouseover</code> 与 <code>mouseenter</code></h4><ul>
<li>mouseover 和 mouseoverenter 都有鼠标经过的意思，但是在注册鼠标经过事件的时候，推荐使用<code>mouseenter</code></li>
</ul>
<p><a href="http://www.w3school.com.cn/tiy/t.asp?f=jquery_event_mouseenter_mouseover" target="_blank" rel="noopener">mouseenter 与 mouseover 的不同</a></p>
<ul>
<li><p>mouseover 与 mouseout 是一对事件，当鼠标经过当前元素或者当前元素的子元素的时候，会触发【事件冒泡】。</p>
</li>
<li><p>mouseenter 与 mouseleave 是一对事件，只有当鼠标经过当前元素时，事件会触发，鼠标经过子元素，mousenter 事件是不会触发的</p>
</li>
</ul>
<h4 id="index-方法"><a href="#index-方法" class="headerlink" title="index 方法"></a>index 方法</h4><p><code>index()</code> 方法返回的是当前元素在所有兄弟元素里面的索引</p>
<h4 id="区分-jQuery-与-Javascript"><a href="#区分-jQuery-与-Javascript" class="headerlink" title="区分 jQuery 与 Javascript"></a>区分 jQuery 与 Javascript</h4><p>JavaScript 是一门编程语言，jQuery 仅仅是用 JavaScript 实现的一个 JavaScript 库，目的是简化我们的开发</p>
<h2 id="jQuery-样式操作"><a href="#jQuery-样式操作" class="headerlink" title="jQuery 样式操作"></a>jQuery 样式操作</h2><h3 id="css-操作"><a href="#css-操作" class="headerlink" title="css 操作"></a>css 操作</h3><p>功能：设置或者修改样式，操作的是 style 属性</p>
<p>设置单个样式</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// name：需要设置的样式名称</span></span><br><span class="line"><span class="comment">// value：对应的样式值</span></span><br><span class="line">css(name, value)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用案例</span></span><br><span class="line">$(<span class="string">'#one'</span>).css(<span class="string">'background'</span>, <span class="string">'gray'</span>) <span class="comment">// 将背景色修改为灰色</span></span><br></pre></td></tr></table></figure>

<p>设置多个样式</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 参数是一个对象，对象中包含了需要设置的样式名和样式值</span></span><br><span class="line">css(obj)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用案例</span></span><br><span class="line">$(<span class="string">'#one'</span>).css(&#123;</span><br><span class="line">  background: <span class="string">'gray'</span>,</span><br><span class="line">  width: <span class="string">'400px'</span>,</span><br><span class="line">  height: <span class="string">'200px'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>获取样式</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// name: 需要获取的样式名称</span></span><br><span class="line">css(name)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 案例</span></span><br><span class="line">$(<span class="string">'div'</span>).css(<span class="string">'background-color'</span>)</span><br></pre></td></tr></table></figure>

<p>注意：</p>
<ul>
<li>设置操作的时候，如果是多个元素，那么给所有的元素设置相同的值</li>
<li>获取操作的时候，如果是多个元素，那么只会返回第一个元素的值</li>
</ul>
<h3 id="class-操作"><a href="#class-操作" class="headerlink" title="class 操作"></a>class 操作</h3><ul>
<li>添加样式类</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 给所有的 div 添加 one 的样式</span></span><br><span class="line">$(<span class="string">'div'</span>).addClass(<span class="string">'one'</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>移除样式类</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 移除 div 中 one 类名</span></span><br><span class="line">$(<span class="string">'div'</span>).removeClass(<span class="string">'one'</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>判断是否有某个样式类</li>
</ul>
<p>判断标准是： 只要有一个元素有指定的类名，就返回 true，所有的元素都没有该类名，就返回 false</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 判断是否有 one 的样式类</span></span><br><span class="line">$(<span class="string">'div'</span>).hasClass(<span class="string">'one'</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>切换样式类</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 如果有，移除该类，如果没有，添加该类</span></span><br><span class="line">$(<span class="string">'div'</span>).toggleClass(<span class="string">'one'</span>)</span><br></pre></td></tr></table></figure>

<p>【案例：tab栏切换案例.html】</p>
<h2 id="jQuery-属性操作"><a href="#jQuery-属性操作" class="headerlink" title="jQuery 属性操作"></a>jQuery 属性操作</h2><h3 id="attr-操作"><a href="#attr-操作" class="headerlink" title="attr 操作"></a>attr 操作</h3><p>设置单个属性</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 第一个参数：需要设置的属性名</span></span><br><span class="line"><span class="comment">// 第二个参数：对应的属性值</span></span><br><span class="line">attr(name, value)</span><br><span class="line"><span class="comment">// 用法举例</span></span><br><span class="line">$(<span class="string">'img'</span>).attr(<span class="string">'title'</span>, <span class="string">'哈哈'</span>)</span><br></pre></td></tr></table></figure>

<p>设置多个属性</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 参数是一个对象，包含了需要设置的属性名和属性值</span></span><br><span class="line">$(<span class="string">'img'</span>).attr(&#123;</span><br><span class="line">  title: <span class="string">'hello'</span>,</span><br><span class="line">  alt: <span class="string">'hello'</span>,</span><br><span class="line">  style: <span class="string">'opacity: .5'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>获取属性</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 传需要获取的属性名称，返回对应的属性值</span></span><br><span class="line"><span class="keyword">var</span> oTitle = $(<span class="string">'img'</span>).attr(<span class="string">'title'</span>)</span><br></pre></td></tr></table></figure>

<p>移除属性</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 参数：需要移除的属性名</span></span><br><span class="line">$(<span class="string">'img'</span>).removeAttr(<span class="string">'title'</span>)</span><br></pre></td></tr></table></figure>

<p>【案例：美女相册.html】</p>
<h3 id="prop-操作"><a href="#prop-操作" class="headerlink" title="prop 操作"></a>prop 操作</h3><p>在jQuery1.6之后，对于 checked、selected、disabled 这类 boolean 类型的属性来说，不能用 attr 方法，只能用 prop 方法</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 设置属性</span></span><br><span class="line">$(<span class="string">'input:checked'</span>).prop(<span class="string">'checked'</span>, <span class="literal">true</span>)</span><br><span class="line"><span class="comment">// 获取属性</span></span><br><span class="line">$(<span class="string">'input:checked'</span>).prop(<span class="string">'checked'</span>) <span class="comment">// 返回 true 或者 false</span></span><br></pre></td></tr></table></figure>

<p>【案例：表格全选案例.html】</p>
<h2 id="jQuery-动画"><a href="#jQuery-动画" class="headerlink" title="jQuery 动画"></a>jQuery 动画</h2><p>jquery 提供了三组基本动画，这些动画都是标准的、有规律的效果，jquery 还提供了自定义动画的功能</p>
<h3 id="三组基本动画"><a href="#三组基本动画" class="headerlink" title="三组基本动画"></a>三组基本动画</h3><ul>
<li>显示 (show) 与隐藏 (hide) 与切换 (slideToggle)</li>
<li>上滑 (slideUp) 与下滑 (slideDown) 与切换 (slideToggle)，效果与卷帘门类似</li>
<li>淡入 (fadeIn) 与淡出 (fadeOut) 与切换 (fadeToggle)</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// show() 系列</span></span><br><span class="line">show([speed], [easing], [callback])</span><br><span class="line"><span class="comment">// speed(可选)：动画的执行时间</span></span><br><span class="line">	<span class="comment">// 1.如果不传，就没有动画效果。如果是 slide 和 fade 系列，会默认为 normal</span></span><br><span class="line">	<span class="comment">// 2.毫秒值(比如1000),动画在1000毫秒执行完成(推荐)</span></span><br><span class="line">	<span class="comment">// 3.固定字符串，slow(200)、normal(400)、fast(600)，如果传其他字符串，则默认为normal</span></span><br><span class="line"><span class="comment">// easing(可选)：动画效果，默认是 swing，秋千，提供了一个 linear 匀速的效果</span></span><br><span class="line"><span class="comment">// callback(可选)：执行完动画后执行的回调函数</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// slide 系列，参数使用和show 是一样的，不传参数，默认有动画效果</span></span><br><span class="line">slideDown([speed], [easing], [callback])</span><br><span class="line"></span><br><span class="line"><span class="comment">// fade 系列，参数使用和 show 是一样的，不传参数，默认有动画效果</span></span><br><span class="line">fadeIn([speed], [easing], [callback])</span><br></pre></td></tr></table></figure>

<p>【案例：下拉菜单动画版.html】<br>【案例：京东轮播图(呼吸灯).html】</p>
<h3 id="自定义动画"><a href="#自定义动画" class="headerlink" title="自定义动画"></a>自定义动画</h3><p>animate：自定义动画（只支持数值型的动画）</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(selector).animate(&#123; params &#125;, [speed], [easing], [callback])</span><br><span class="line"><span class="comment">// &#123;params&#125;：要执行动画的 CSS 属性，带数字（必选），多个属性会同时执行</span></span><br><span class="line"><span class="comment">// speed：执行动画时长（可选）</span></span><br><span class="line"><span class="comment">// easing: 执行效果，默认为swing（缓动）  linear（匀速）</span></span><br><span class="line"><span class="comment">// callback：动画执行完后立即执行的回调函数（可选）</span></span><br></pre></td></tr></table></figure>

<h3 id="动画队列与停止动画"><a href="#动画队列与停止动画" class="headerlink" title="动画队列与停止动画"></a>动画队列与停止动画</h3><p>在同一个元素上执行多个动画，那么对于这个动画来说，后面的动画会被放到动画队列中，等前面的动画执行完成了才会执行</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 有顺序的执行效果</span></span><br><span class="line"><span class="comment">// 动画队列：</span></span><br><span class="line"><span class="comment">// 像链式编程一样，通过 . 继续写动画，给元素添加了多个动画, 这多个动画会添加到元素的动画队列里面，按照顺序依次执行</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  $(<span class="string">'div'</span>)</span><br><span class="line">    .animate(&#123; <span class="attr">left</span>: <span class="number">800</span> &#125;, <span class="number">1000</span>)</span><br><span class="line">    .animate(&#123; <span class="attr">top</span>: <span class="number">300</span> &#125;, <span class="number">1000</span>)</span><br><span class="line">    .animate(&#123; <span class="attr">borderRadius</span>: <span class="number">50</span> &#125;, <span class="number">1000</span>)</span><br><span class="line">    .slideUp(<span class="number">2000</span>)</span><br><span class="line">    .slideDown(<span class="number">2000</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 好处：可以有顺序的执行动画效果</span></span><br><span class="line"><span class="comment">// 坏处：bug 给元素不停的添加动画，元素就不停的运动</span></span><br></pre></td></tr></table></figure>

<ul>
<li>stop 方法</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 停止当前正在执行的动画，如果元素的动画队列里面有后续动画，后续动画会执行</span></span><br><span class="line">stop(clearQueue, jumpToEnd)</span><br><span class="line"><span class="comment">// 第一个参数：可选，是否清除队列，true，表示清除掉，默认 false</span></span><br><span class="line"><span class="comment">// 第二个参数：可选，是否跳转到当前正在执行的动画的最终效果，true，表示跳转， 默认false</span></span><br></pre></td></tr></table></figure>

<p>【案例：手风琴特效】<br>【案例：音乐导航】</p>
<h2 id="jQuery-节点操作"><a href="#jQuery-节点操作" class="headerlink" title="jQuery 节点操作"></a>jQuery 节点操作</h2><h3 id="创建节点"><a href="#创建节点" class="headerlink" title="创建节点"></a>创建节点</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// $()</span></span><br><span class="line"><span class="comment">// 括号内写 html 格式的字符串</span></span><br><span class="line">$(<span class="string">'&lt;span&gt;这是一个span元素&lt;/span&gt;'</span>)</span><br></pre></td></tr></table></figure>

<h3 id="添加节点"><a href="#添加节点" class="headerlink" title="添加节点"></a>添加节点</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// append</span></span><br><span class="line">A.append(B) <span class="comment">// 把 B 添加到 A 里面去，B 作为 A 的最后一个子元素</span></span><br><span class="line"><span class="comment">// appendTo</span></span><br><span class="line">B.appendTo(A) <span class="comment">// 作用同上，写法不同</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// prepend</span></span><br><span class="line">A.prepend(B) <span class="comment">// 把 B 添加到 A 里面去，B 作为 A 的第一个子元素</span></span><br><span class="line"><span class="comment">// prependTo</span></span><br><span class="line">B.prependTo(A) <span class="comment">// 作用同上，写法不同</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// after</span></span><br><span class="line">A.after(B) <span class="comment">// 把 B 作为 A 的兄弟，添加在 A 的后面</span></span><br><span class="line"><span class="comment">// before</span></span><br><span class="line">A.before(B) <span class="comment">// 把 B 作为 A 的兄弟，添加在 A 的前面</span></span><br></pre></td></tr></table></figure>

<p>【案例：城市选择案例】</p>
<h3 id="清空节点与删除节点"><a href="#清空节点与删除节点" class="headerlink" title="清空节点与删除节点"></a>清空节点与删除节点</h3><p>empty：清空指定节点的所有元素，自身保留(清理门户)</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">'div'</span>).empty() <span class="comment">// 清空 div 的所有内容（推荐使用，会清除子元素上绑定的内容，源码）</span></span><br><span class="line">$(<span class="string">'div'</span>).html(<span class="string">''</span>) <span class="comment">// 使用 html 方法来清空元素，不推荐使用，会造成内存泄漏，绑定的事件不会被清除</span></span><br></pre></td></tr></table></figure>

<p>remove：删除节点，会把元素自身给删除掉</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">'div'</span>).remove() <span class="comment">// 删除 div 节点</span></span><br></pre></td></tr></table></figure>

<h3 id="克隆节点"><a href="#克隆节点" class="headerlink" title="克隆节点"></a>克隆节点</h3><p>clone：克隆元素节点</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">'div'</span>).clone() <span class="comment">// 返回复制的 div 新元素，（默认不显示，需要配合 append 方法）</span></span><br><span class="line"><span class="comment">// 新元素和原来的元素没有任何关系</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// clone(布尔类型参数)， 参数为true， 克隆元素的事件，默认值是false</span></span><br></pre></td></tr></table></figure>

<h2 id="jQuery-特殊属性操作"><a href="#jQuery-特殊属性操作" class="headerlink" title="jQuery 特殊属性操作"></a>jQuery 特殊属性操作</h2><h3 id="val"><a href="#val" class="headerlink" title="val()"></a>val()</h3><p>val 方法用于设置和获取表单元素的值，例如 input、textarea 的值</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 设置值</span></span><br><span class="line">$(<span class="string">'#name'</span>).val(<span class="string">'张三'</span>)</span><br><span class="line"><span class="comment">// 获取值</span></span><br><span class="line">$(<span class="string">'#name'</span>).val()</span><br></pre></td></tr></table></figure>

<p>【案例：搜索框】</p>
<h3 id="html-与-text"><a href="#html-与-text" class="headerlink" title="html() 与 text()"></a>html() 与 text()</h3><p>html 方法相当于 innerHTML，text 方法相当于 innerText</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 设置内容</span></span><br><span class="line">$(<span class="string">'div'</span>).html(<span class="string">'&lt;span&gt;这是一段内容&lt;/span&gt;'</span>)</span><br><span class="line"><span class="comment">// 获取内容</span></span><br><span class="line">$(<span class="string">'div'</span>).html()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置内容</span></span><br><span class="line">$(<span class="string">'div'</span>).text(<span class="string">'&lt;span&gt;这是一段内容&lt;/span&gt;'</span>)</span><br><span class="line"><span class="comment">// 获取内容</span></span><br><span class="line">$(<span class="string">'div'</span>).text()</span><br></pre></td></tr></table></figure>

<p><strong>区别</strong>：html 方法会识别 html 标签，text 方法会将内容直接当成字符串，并不会识别 html 标签</p>
<h3 id="width-与-height"><a href="#width-与-height" class="headerlink" title="width() 与 height()"></a>width() 与 height()</h3><p>设置或者获取 <strong>内容区域</strong> 的宽度和高度</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 带参数表示设置</span></span><br><span class="line">$(<span class="string">'div'</span>).width(<span class="number">200</span>)</span><br><span class="line">$(<span class="string">'div'</span>).height(<span class="number">200</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 不带参数表示获取</span></span><br><span class="line">$(<span class="string">'div'</span>).width()</span><br><span class="line">$(<span class="string">'div'</span>).height()</span><br></pre></td></tr></table></figure>

<p>获取 <strong>内容区域 + padding</strong> 的宽度和高度</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">'div'</span>).innerWidth()</span><br><span class="line">$(<span class="string">'div'</span>).innerHeight()</span><br></pre></td></tr></table></figure>

<p>获取 <strong>内容区域 + padding + border</strong> 的宽度和高度</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">'div'</span>).outerWidth()</span><br><span class="line">$(<span class="string">'div'</span>).outerHeight()</span><br></pre></td></tr></table></figure>

<p>获取 <strong>内容区域 + padding + border + margin</strong> 的宽度和高度</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 传入参数true</span></span><br><span class="line">$(<span class="string">'div'</span>).outerWidth(<span class="literal">true</span>)</span><br><span class="line">$(<span class="string">'div'</span>).outerHeight(<span class="literal">true</span>)</span><br></pre></td></tr></table></figure>

<p>获取网页的可视区宽高</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="built_in">window</span>).width()</span><br><span class="line">$(<span class="built_in">window</span>).height()</span><br></pre></td></tr></table></figure>

<h3 id="scrollTop-与-scrollLeft"><a href="#scrollTop-与-scrollLeft" class="headerlink" title="scrollTop 与 scrollLeft"></a>scrollTop 与 scrollLeft</h3><p>设置或者获取垂直滚动条的位置</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 传参表示设置，不传参表示获取</span></span><br><span class="line">$(<span class="built_in">window</span>).scrollTop(<span class="number">2000</span>)</span><br><span class="line">$(<span class="built_in">window</span>).scrollLeft()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 实时的去获取到页面垂直卷曲的距离</span></span><br><span class="line">$(<span class="built_in">window</span>).scroll(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log($(<span class="built_in">window</span>).scrollTop())</span><br><span class="line">  <span class="built_in">console</span>.log($(<span class="built_in">window</span>).scrollLeft())</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>返回顶部固定写法</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$goTop.click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  $(<span class="string">'html, body'</span>).animate(</span><br><span class="line">    &#123;</span><br><span class="line">      scrollTop: <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="number">1000</span></span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>【案例：固定菜单栏案例】<br>【案例：小火箭返航案例】</p>
<h3 id="offset-方法与-position-方法"><a href="#offset-方法与-position-方法" class="headerlink" title="offset 方法与 position 方法"></a>offset 方法与 position 方法</h3><p>offset 方法获取元素距离 document 的位置，position 方法获取的是元素距离有定位的父元素的位置</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 获取元素距离 document 的位置，和父元素没有关系，返回值为对象：&#123;left:100, top:100&#125;</span></span><br><span class="line">$(selector).offset()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取相对于其最近的有定位的父元素的位置，返回值为对象</span></span><br><span class="line">$(selector).position()</span><br></pre></td></tr></table></figure>

<h2 id="jQuery-事件机制"><a href="#jQuery-事件机制" class="headerlink" title="jQuery 事件机制"></a>jQuery 事件机制</h2><p>JavaScript 中已经学习过了事件，但是 jQuery 对 JavaScript 事件进行了封装，增加并扩展了事件处理机制。jQuery 不仅提供了更加优雅的事件处理语法，而且极大的增强了事件的处理能力。</p>
<h3 id="jQuery-事件发展历程-了解"><a href="#jQuery-事件发展历程-了解" class="headerlink" title="jQuery 事件发展历程(了解)"></a>jQuery 事件发展历程(了解)</h3><p>简单事件绑定&gt;&gt; bind 事件绑定&gt;&gt; delegate 事件绑定 &gt;&gt;on 事件绑定(推荐)</p>
<ul>
<li>简单方式事件注册</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// jq 中简单方式注册相同的事件是不会被覆盖的</span></span><br><span class="line">$(<span class="string">'div'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  alert(<span class="string">'2'</span>)</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">'div'</span>).click(<span class="literal">null</span>) <span class="comment">// alert('2') 依然会执行</span></span><br></pre></td></tr></table></figure>

<p>缺点：不能同时注册多个事件，无法解绑事件</p>
<ul>
<li>bind 方式注册事件</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 第一个参数：事件类型，如果需要给元素注册多个事件，可以用空格隔开写上多个事件名</span></span><br><span class="line"><span class="comment">// 第二个参数：事件处理函数</span></span><br><span class="line">$(<span class="string">'p'</span>).bind(<span class="string">'click mouseenter'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 事件响应方法</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>unbind  解绑事件（不用）</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">'div'</span>).unbind() <span class="comment">// 不传参数解绑所有的事件</span></span><br><span class="line">$(<span class="string">'div'</span>).unbind(<span class="string">'click'</span>) <span class="comment">// 解绑指定的事件</span></span><br></pre></td></tr></table></figure>

<p>缺点：不支持动态事件绑定</p>
<ul>
<li><p>delegate 注册委托事件</p>
<p>事件是注册给父元素的，由子元素去触发该事件</p>
<p>原理： 事件冒泡</p>
<p>优点：节省内存，支持动态绑定</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 第一个参数：要绑定事件的元素</span></span><br><span class="line"><span class="comment">// 第二个参数：事件类型</span></span><br><span class="line"><span class="comment">// 第三个参数：事件处理函数</span></span><br><span class="line">$(<span class="string">'div'</span>).delegate(<span class="string">'p'</span>, <span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 事件注册给了父元素 div，为所有的子元素 p 绑定事件， 由 p 去触发事件</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>undelegate 解绑事件（不用）</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">'div'</span>).undelegate() <span class="comment">// 解绑所有的 delegate 事件</span></span><br><span class="line">$(<span class="string">'div'</span>).undelegate( <span class="string">'click'</span> ) <span class="comment">// 解绑所有的 click 事件</span></span><br></pre></td></tr></table></figure>

<p>缺点：只能注册委托事件，因此注册时间需要记得方法太多了</p>
<h3 id="on-注册事件-重点"><a href="#on-注册事件-重点" class="headerlink" title="on 注册事件(重点)"></a>on 注册事件(重点)</h3><p>jQuery 1.7 之后，jQuery 用 on 统一了所有事件的处理方法，强烈建议使用</p>
<ul>
<li>on 注册简单事件</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 表示给 $('div') 绑定事件，并且由自己触发，不支持动态绑定</span></span><br><span class="line">$(<span class="string">'div'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>on 注册委托事件</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 表示给 $('div') 绑定代理事件，必须是它的内部元素 span 才能触发这个事件，支持动态绑定</span></span><br><span class="line">$(<span class="string">'div'</span>).on(<span class="string">'click'</span>, <span class="string">'span'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>on 注册事件的语法</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 第一个参数：events，绑定事件的名称可以是由空格分隔的多个事件（标准事件或者自定义事件）</span></span><br><span class="line"><span class="comment">// 第二个参数：selector, 执行事件的后代元素（可选），如果没有后代元素，那么事件将有自己执行</span></span><br><span class="line"><span class="comment">// 第三个参数：data，传递给处理函数的数据，事件触发的时候通过event.data来使用（不常使用）</span></span><br><span class="line"><span class="comment">// 第四个参数：handler，事件处理函数</span></span><br><span class="line">$(selector).on(events[,selector][,data],handler)</span><br></pre></td></tr></table></figure>

<h3 id="off-解绑事件"><a href="#off-解绑事件" class="headerlink" title="off 解绑事件"></a>off 解绑事件</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 解绑匹配元素的所有事件，父元素子元素的所有事件都解绑了</span></span><br><span class="line">$(<span class="string">'div'</span>).off()</span><br><span class="line"><span class="comment">// 解绑匹配元素的所有 click 事件</span></span><br><span class="line">$(<span class="string">'div'</span>).off(<span class="string">'click'</span>)</span><br><span class="line"><span class="comment">// 解绑子元素 p 的所有 click 事件, 父元素的click事件不会被解绑</span></span><br><span class="line">$(<span class="string">'div'</span>).off(<span class="string">'click'</span>, <span class="string">'p'</span>)</span><br></pre></td></tr></table></figure>

<h3 id="触发事件"><a href="#触发事件" class="headerlink" title="触发事件"></a>触发事件</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 点击 div 触发事件</span></span><br><span class="line">$(<span class="string">'div'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  alert(<span class="number">2</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 可由其他元素触发 div 的事件</span></span><br><span class="line"><span class="comment">// 点击 btn 触发 div 的 click 事件</span></span><br><span class="line">$(<span class="string">'#btn'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// $('div').click() // 触发 div 的 click 事件</span></span><br><span class="line">  $(<span class="string">'div'</span>).trigger(<span class="string">'click'</span>) <span class="comment">// trigger(type) 触发 div 的 click 事件</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="jQuery-事件对象"><a href="#jQuery-事件对象" class="headerlink" title="jQuery 事件对象"></a>jQuery 事件对象</h3><p>jQuery 事件对象其实就是js事件对象的一个封装，处理了兼容性</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// screenX 和 screenY 对应屏幕最左上角的值</span></span><br><span class="line"><span class="comment">// clientX 和 clientY 距离页面左上角的位置（忽视滚动条）</span></span><br><span class="line"><span class="comment">// pageX 和 pageY 距离页面最顶部的左上角的位置（会计算滚动条的距离）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// event.keyCode 按下的键盘代码</span></span><br><span class="line"><span class="comment">// event.data 存储绑定事件时传递的附加数据</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// event.stopPropagation() 阻止事件冒泡行为</span></span><br><span class="line"><span class="comment">// event.preventDefault() 阻止浏览器默认行为</span></span><br><span class="line"><span class="comment">// return false 既能阻止事件冒泡，又能阻止浏览器默认行为</span></span><br></pre></td></tr></table></figure>

<p><strong>注意</strong>：<code>js</code> 中的 <code>return false</code> 只能起到阻止浏览器的默认行为，<code>jquery</code> 中的 <code>return false</code>  既能阻止事件冒泡也能阻止浏览器的默认行为</p>
<p>【案例：钢琴版导航（加强)】</p>
<p>【案例：弹幕效果】</p>
<h2 id="jQuery-特点"><a href="#jQuery-特点" class="headerlink" title="jQuery 特点"></a>jQuery 特点</h2><h3 id="隐式迭代"><a href="#隐式迭代" class="headerlink" title="隐式迭代"></a>隐式迭代</h3><h4 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h4><p>隐式迭代：jQuery 在设置属性时会自动的遍历，因此我们不需要再遍历</p>
<ol>
<li>jQuery 在执行设置性操作时，会给所有的元素都设置上相同的值</li>
<li>jQuery 在执行获取性操作时，只会返回第一个元素对应的值</li>
<li>如果想要给每一个元素都设置不同的值，需要手动进行遍历 jQuery 对象</li>
</ol>
<h4 id="each方法"><a href="#each方法" class="headerlink" title="each方法"></a>each方法</h4><p>遍历 jQuery 对象集合，为每个匹配的元素执行一个函数</p>
<p>语法：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(selector).each(<span class="function"><span class="keyword">function</span> (<span class="params">index, element</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// index 表示当前元素在所有匹配元素中的索引号</span></span><br><span class="line">  <span class="comment">// element 表示当前元素</span></span><br><span class="line">  <span class="comment">// this 在函数内部，this指向了element</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">$(<span class="string">'li'</span>).each(<span class="function"><span class="keyword">function</span> (<span class="params">index, ele</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// $(ele).css('backgroundColor', arr[index])</span></span><br><span class="line">  $(<span class="keyword">this</span>).css(<span class="string">'backgroundColor'</span>, arr[index])</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="链式编程"><a href="#链式编程" class="headerlink" title="链式编程"></a>链式编程</h3><p>链式编程的原理：设置性操作会返回一个 jQuery 对象，因此可以继续调用 jQuery 的方法</p>
<ol>
<li>设置操作的时候，可以使用链式编程</li>
<li>获取操作的时候，无法使用链式编程，（因为没有返回jq对象）</li>
<li>链式编程不要太长，因为代码可读性差</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">prevObject: 返回上一次找到的jq对象</span><br><span class="line">end() <span class="comment">// 上一次返回的 jq 对象（封装了 prevObject 属性）</span></span><br></pre></td></tr></table></figure>

<p>【案例：五角星评分案例.html】</p>
<h3 id="多库共存"><a href="#多库共存" class="headerlink" title="多库共存"></a>多库共存</h3><p>jQuery 使用 <code>$</code>作为标示符，但是如果与其他框架中的 <code>$</code> 冲突时，jQuery 可以释放 <code>$</code> 符的控制权</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// noConflict() // 返回 $ 的功能</span></span><br><span class="line"><span class="keyword">var</span> c = $.noConflict() <span class="comment">// 释放 $ 的控制权,并且把 $ 的能力给了 c</span></span><br></pre></td></tr></table></figure>

<h2 id="jQuery-插件"><a href="#jQuery-插件" class="headerlink" title="jQuery 插件"></a>jQuery 插件</h2><p>插件：其实就是个 js 库，依赖于 jquery，而且在 jquery 的基础上新增一些功能</p>
<h3 id="使用插件"><a href="#使用插件" class="headerlink" title="使用插件"></a>使用插件</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1. 先引入jQuery文件</span><br><span class="line">2. 在引入插件（如果有用到css的话，需要引入css）</span><br><span class="line">3. 使用插件</span><br></pre></td></tr></table></figure>

<p>常用插件的使用</p>
<ul>
<li><p><a href="https://github.com/jquery/jquery-color" target="_blank" rel="noopener">jquery.color.js</a></p>
<p>animate 只支持数值型的动画，色值型的不支持，这个插件就可以让animate 做色值型的动画</p>
</li>
<li><p><a href="https://github.com/tuupola/jquery_lazyload" target="_blank" rel="noopener">jquery.lazyload.js</a></p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 使用方法</span></span><br><span class="line"><span class="comment">// html图片调用方法</span></span><br><span class="line"><span class="comment">// 为图片加入样式 lazy 图片路径引用方法用 data-original</span></span><br><span class="line"><span class="comment">// &lt;img class='lazy' data-original='img/1.jpg'&gt;</span></span><br><span class="line"><span class="comment">// js出始化lazyload并设置图片显示方式</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  $(<span class="string">'img.lazy'</span>).lazyload(&#123;</span><br><span class="line">    effect: <span class="string">'fadeIn'</span>,</span><br><span class="line">    placeholder: <span class="string">'img/2.jpg'</span>, <span class="comment">// 用图片提前占位,待图片加载时,占位图则会隐藏</span></span><br><span class="line">    effect: <span class="string">'fadeIn'</span>, <span class="comment">// 载入使用何种效果</span></span><br><span class="line">    threshold: <span class="number">200</span>, <span class="comment">// 表示滚动条在离目标位置200的高度时开始加载图片,可以做到不让用户察觉</span></span><br><span class="line">    event: <span class="string">'click'</span> <span class="comment">// 事件触发时才加载</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="制作-jQuery-插件"><a href="#制作-jQuery-插件" class="headerlink" title="制作 jQuery 插件"></a>制作 jQuery 插件</h3><p>制作 jQuery 插件的核心思想：给 jQuery 的原型增加方法即可。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$.fn.pluginName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>制作基本的jQuery插件（jquery.bgc.js）</li>
<li>制作手风琴插件</li>
</ul>
<h2 id="jQuery-架构"><a href="#jQuery-架构" class="headerlink" title="jQuery 架构"></a>jQuery 架构</h2><p>看源码学习推荐看 1.7.0 版本，源码比较清晰</p>
<h3 id="jq-的基本架构"><a href="#jq-的基本架构" class="headerlink" title="jq 的基本架构"></a>jq 的基本架构</h3><p>沙箱 ，减少全局污染</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">;(<span class="function"><span class="keyword">function</span> (<span class="params">window, undefined</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// console.log(undefined)</span></span><br><span class="line">  <span class="keyword">var</span> jQuery = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">  <span class="comment">// 往外暴露</span></span><br><span class="line">  <span class="built_in">window</span>.jQuery = <span class="built_in">window</span>.$ = jQuery</span><br><span class="line">&#125;)(<span class="built_in">window</span>)</span><br><span class="line"><span class="keyword">var</span> jq = <span class="keyword">new</span> jQuery() <span class="comment">// ==&gt; 得到一个jq的实例对象</span></span><br><span class="line"><span class="built_in">console</span>.log(jq)</span><br></pre></td></tr></table></figure>

<p>参数 <code>window</code> 的作用：</p>
<ul>
<li>减少对 window 的搜索过程</li>
<li>有利于代码压缩</li>
</ul>
<p>参数 <code>undefined</code> 的作用：</p>
<ul>
<li>参数 <code>undefined</code> 的值是 <code>undefined</code></li>
<li><code>undefined</code> 这个数据类型的值在ie678 中是可以被修改的，现在有 <code>undefined</code> 形参在这，在沙箱里面去使用 <code>undefined</code> 的时候，就不会去引用外面被修改的 <code>undefined</code> 的值</li>
</ul>
<h3 id="省去-new-操作"><a href="#省去-new-操作" class="headerlink" title="省去 new 操作"></a>省去 new 操作</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 省去 new 操作，得到一个jq的实例对象</span></span><br><span class="line">;(<span class="function"><span class="keyword">function</span> (<span class="params">window, undefined</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// jQuery 是 工厂函数， 里面干啥？</span></span><br><span class="line">  <span class="keyword">var</span> jQuery = <span class="function"><span class="keyword">function</span> (<span class="params">selector</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// return new 构造函数</span></span><br><span class="line">    <span class="comment">// 在 jq 里面，真正的构造函数是 init，而且 init 方法放在 jq 的原型上</span></span><br><span class="line">    <span class="comment">// jQuery.fn.init ==&gt; 是从 jq 的原型上拿 init 方法</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> jQuery.fn.init(selector) <span class="comment">// init 何种调用模式， 构造函数模式</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  jQuery.fn = jQuery.prototype = &#123;</span><br><span class="line">    <span class="comment">// 原型替换</span></span><br><span class="line">    <span class="keyword">constructor</span>: jQuery,</span><br><span class="line">    init: function (selector) &#123;</span><br><span class="line">      <span class="comment">// init 是真正的构造函数</span></span><br><span class="line">      <span class="comment">// 获取元素</span></span><br><span class="line">      <span class="keyword">var</span> ele = <span class="built_in">document</span>.querySelectorAll(selector)</span><br><span class="line">      <span class="comment">// this ==&gt; init的实例对象</span></span><br><span class="line">      ;[].push.apply(<span class="keyword">this</span>, ele)</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    css: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'css is ok'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">window</span>.jQuery = <span class="built_in">window</span>.$ = jQuery</span><br><span class="line">&#125;)(<span class="built_in">window</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 把 init 的构造函数的 prototype 改成 jquery 的原型</span></span><br><span class="line"><span class="comment">// 目的： 让 init 的实例对象可以访问 jq 原型上的方法</span></span><br><span class="line">jQuery.fn.init.prototype = jQuery.fn</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> $div = $(<span class="string">'div'</span>) <span class="comment">// init实例对象</span></span><br><span class="line"><span class="built_in">console</span>.log($div)</span><br><span class="line">$div.css()</span><br></pre></td></tr></table></figure>
      
    </div>

    

    <div>
      
        <div style="text-align:center;color: #ccc;font-size:14px;margin-top: 20px;">-------------本文结束-------------</div>
      
    </div>

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        
          
        
        <div class="post-tags">
          
            <a href="/tags/jquery/" rel="tag"><i class="fa fa-tag"></i> jquery</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/jquery/jquery中AJAX的全局事件/" rel="next" title="jquery 中 AJAX 的全局事件">
                <i class="fa fa-chevron-left"></i> jquery 中 AJAX 的全局事件
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/javascript/javascript高级/" rel="prev" title="javascript 高级">
                javascript 高级 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  
    <div class="comments" id="comments">
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="稻草人">
            
              <p class="site-author-name" itemprop="name">稻草人</p>
              <div class="site-description motion-element" itemprop="description">A doc for web</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">54</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">13</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">28</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/cuilongjin" title="GitHub &rarr; https://github.com/cuilongjin" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#jQuery"><span class="nav-text">jQuery</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#jQuery-基本介绍"><span class="nav-text">jQuery 基本介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#为什么要学-jQuery"><span class="nav-text">为什么要学 jQuery</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#jQuery-初体验"><span class="nav-text">jQuery 初体验</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#版本介绍"><span class="nav-text">版本介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#入口函数"><span class="nav-text">入口函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#jQuery-使用步骤"><span class="nav-text">jQuery 使用步骤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#jquery-中的-符号"><span class="nav-text">jquery 中的 $ 符号</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#jQuery-对象与-DOM-对象"><span class="nav-text">jQuery 对象与 DOM 对象</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#选择器"><span class="nav-text">选择器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#jQuery-选择器"><span class="nav-text">jQuery 选择器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#css-选择器"><span class="nav-text">css 选择器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#过滤选择器"><span class="nav-text">过滤选择器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#筛选选择器-方法"><span class="nav-text">筛选选择器(方法)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#补充"><span class="nav-text">补充</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#mouseover-与-mouseenter"><span class="nav-text">mouseover 与 mouseenter</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#index-方法"><span class="nav-text">index 方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#区分-jQuery-与-Javascript"><span class="nav-text">区分 jQuery 与 Javascript</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#jQuery-样式操作"><span class="nav-text">jQuery 样式操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#css-操作"><span class="nav-text">css 操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#class-操作"><span class="nav-text">class 操作</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#jQuery-属性操作"><span class="nav-text">jQuery 属性操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#attr-操作"><span class="nav-text">attr 操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#prop-操作"><span class="nav-text">prop 操作</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#jQuery-动画"><span class="nav-text">jQuery 动画</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#三组基本动画"><span class="nav-text">三组基本动画</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#自定义动画"><span class="nav-text">自定义动画</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#动画队列与停止动画"><span class="nav-text">动画队列与停止动画</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#jQuery-节点操作"><span class="nav-text">jQuery 节点操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#创建节点"><span class="nav-text">创建节点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#添加节点"><span class="nav-text">添加节点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#清空节点与删除节点"><span class="nav-text">清空节点与删除节点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#克隆节点"><span class="nav-text">克隆节点</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#jQuery-特殊属性操作"><span class="nav-text">jQuery 特殊属性操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#val"><span class="nav-text">val()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#html-与-text"><span class="nav-text">html() 与 text()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#width-与-height"><span class="nav-text">width() 与 height()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#scrollTop-与-scrollLeft"><span class="nav-text">scrollTop 与 scrollLeft</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#offset-方法与-position-方法"><span class="nav-text">offset 方法与 position 方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#jQuery-事件机制"><span class="nav-text">jQuery 事件机制</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#jQuery-事件发展历程-了解"><span class="nav-text">jQuery 事件发展历程(了解)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#on-注册事件-重点"><span class="nav-text">on 注册事件(重点)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#off-解绑事件"><span class="nav-text">off 解绑事件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#触发事件"><span class="nav-text">触发事件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#jQuery-事件对象"><span class="nav-text">jQuery 事件对象</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#jQuery-特点"><span class="nav-text">jQuery 特点</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#隐式迭代"><span class="nav-text">隐式迭代</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#基本概念"><span class="nav-text">基本概念</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#each方法"><span class="nav-text">each方法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#链式编程"><span class="nav-text">链式编程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#多库共存"><span class="nav-text">多库共存</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#jQuery-插件"><span class="nav-text">jQuery 插件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#使用插件"><span class="nav-text">使用插件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#制作-jQuery-插件"><span class="nav-text">制作 jQuery 插件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#jQuery-架构"><span class="nav-text">jQuery 架构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#jq-的基本架构"><span class="nav-text">jq 的基本架构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#省去-new-操作"><span class="nav-text">省去 new 操作</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
        </div>
      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2015 – <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">稻草人</span>

  

  
</div>









        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="post-meta-item-icon">
      <i class="fa fa-user"></i>
    </span>
    <span class="site-uv" title="总访客量">
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="post-meta-divider">|</span>
  

  
    <span class="post-meta-item-icon">
      <i class="fa fa-eye"></i>
    </span>
    <span class="site-pv" title="总访问量">
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=3.4.1"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.2.0"></script>

  <script src="/js/motion.js?v=7.2.0"></script>



  
  


  <script src="/js/affix.js?v=7.2.0"></script>

  <script src="/js/schemes/pisces.js?v=7.2.0"></script>



  
  <script src="/js/scrollspy.js?v=7.2.0"></script>
<script src="/js/post-details.js?v=7.2.0"></script>



  


  <script src="/js/next-boot.js?v=7.2.0"></script>


  

  

  

  
  

<script src="//unpkg.com/valine/dist/Valine.min.js"></script>

<script>
  var GUEST = ['nick', 'mail', 'link'];
  var guest = 'nick,mail,link';
  guest = guest.split(',').filter(function(item) {
    return GUEST.indexOf(item) > -1;
  });
  new Valine({
    el: '#comments',
    verify: true,
    notify: false,
    appId: 'i2ouGvmHTW7EhnCLQOBXVrub-gzGzoHsz',
    appKey: 'AybRqrp4wjRmuVSiflCxLBrO',
    placeholder: 'Just go go',
    avatar: 'monsterid',
    meta: guest,
    pageSize: '10' || 10,
    visitor: false,
    lang: '' || 'zh-cn'
  });
</script>




  


  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-circle-o-notch fa-spin fa-5x fa-fw margin-bottom"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  
  
  <script>
    
    function addCount(Counter) {
      var $visitors = $('.leancloud_visitors');
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();

      Counter('get', '/classes/Counter', { where: JSON.stringify({ url }) })
        .done(function({ results }) {
          if (results.length > 0) {
            var counter = results[0];
            

            const localhost = /http:\/\/(localhost|127.0.0.1|0.0.0.0)/;
            var amount = 1
            if (localhost.test(document.URL)) {
              amount = 0
            }

            Counter('put', '/classes/Counter/' + counter.objectId, JSON.stringify({ time: { '__op': 'Increment', 'amount': amount } }))
            
              .done(function() {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.time + amount);
              })
            
              .fail(function ({ responseJSON }) {
                console.log('Failed to save Visitor num, with error message: ' + responseJSON.error);
              })
          } else {
            
              Counter('post', '/classes/Counter', JSON.stringify({ title: title, url: url, time: 1 }))
                .done(function() {
                  var $element = $(document.getElementById(url));
                  $element.find('.leancloud-visitors-count').text(1);
                })
                .fail(function() {
                  console.log('Failed to create');
                });
            
          }
        })
        .fail(function ({ responseJSON }) {
          console.log('LeanCloud Counter Error: ' + responseJSON.code + ' ' + responseJSON.error);
        });
    }
    

    $(function() {
      $.get('https://app-router.leancloud.cn/2/route?appId=' + 'i2ouGvmHTW7EhnCLQOBXVrub-gzGzoHsz')
        .done(function({ api_server }) {
          var Counter = function(method, url, data) {
            return $.ajax({
              method: method,
              url: 'https://' + api_server + '/1.1' + url,
              headers: {
                'X-LC-Id': 'i2ouGvmHTW7EhnCLQOBXVrub-gzGzoHsz',
                'X-LC-Key': 'AybRqrp4wjRmuVSiflCxLBrO',
                'Content-Type': 'application/json',
              },
              data: data
            });
          };
          
            const localhost = /http:\/\/(localhost|127.0.0.1|0.0.0.0)/;

            addCount(Counter);
          
        });
    });
  </script>



  

  

  

  

  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>


  

  

  

  

  

  
<script>
  $('.highlight').not('.gist .highlight').each(function(i, e) {
    var $wrap = $('<div>').addClass('highlight-wrap');
    $(e).after($wrap);
    $wrap.append($('<button>').addClass('copy-btn').append('复制').on('click', function(e) {
      var code = $(this).parent().find('.code').find('.line').map(function(i, e) {
        return $(e).text();
      }).toArray().join('\n');
      var ta = document.createElement('textarea');
      var yPosition = window.pageYOffset || document.documentElement.scrollTop;
      ta.style.top = yPosition + 'px'; // Prevent page scroll
      ta.style.position = 'absolute';
      ta.style.opacity = '0';
      ta.readOnly = true;
      ta.value = code;
      document.body.appendChild(ta);
      const selection = document.getSelection();
      const selected = selection.rangeCount > 0 ? selection.getRangeAt(0) : false;
      ta.select();
      ta.setSelectionRange(0, code.length);
      ta.readOnly = false;
      var result = document.execCommand('copy');
      
        if (result) $(this).text('复制成功');
        else $(this).text('复制失败');
      
      ta.blur(); // For iOS
      $(this).blur();
      if (selected) {
        selection.removeAllRanges();
        selection.addRange(selected);
      }
    })).on('mouseleave', function(e) {
      var $b = $(this).find('.copy-btn');
      setTimeout(function() {
        $b.text('复制');
      }, 300);
    }).append(e);
  })
</script>


  

  

</body>
</html>
