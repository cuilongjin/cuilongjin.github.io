---
title: Github 使用
date: 2017-10-8
updated: 2017-10-8
tags: Github
---

### 初始设置
#### 设置姓名和邮箱地址
首先来设置使用 Git 时的姓名和邮箱地址。名字请用英文输入。

```
$ git config --global user.name "Firstname Lastname"
$ git config --global user.email "your_email@example.com"
```
这个命令，会在“ ~/.gitconfig”中以如下形式输出设置文件。
```
[user]
name = Firstname Lastname
email = your_email@example.com
```
想更改这些信息时，可以直接编辑这个设置文件。

#### 提高命令输出的可读性
将 color.ui 设置为 auto 可以让命令的输出拥有更高的可
读性。
```
$ git config --global color.ui auto
```
“ ~/.gitconfig”中会增加下面一行。
```
[color]
ui = auto
```
这样一来，各种命令的输出就会变得更容易分辨。

#### 设置头像
通过 Gravatar服务

#### 设置 SSH Key

GitHub 上连接已有仓库时的认证，是通过使用了 SSH 的公开密钥认证方式进行的。现在我们来创建公开密钥认证所需的 SSH Key，并将其添加至 GitHub。  

运行下面的命令
```
$ ssh-keygen -t rsa -C "your_email@example.com"
Generating public/private rsa key pair.
Enter file in which to save the key(/Users/your_user_directory/.ssh/id_rsa):按回车键
Enter passphrase (empty for no passphrase):输入密码
Enter same passphrase again:再次输入密码
```
输入密码后会出现以下结果。
```
Your identification has been saved in /Users/your_user_directory/.ssh/id_rsa.
Your public key has been saved in /Users/your_user_directory/.ssh/id_rsa.pub.
The key fingerprint is:SHA256:hbn1zPihlVDe/Y2FvzzZU8l+AOSlVRlaOmro/nTQDGg cui3155@gmail.com(fingerprint值+your_email@example.com)
The key's randomart image is:
+---[RSA 2048]----+
|            o o++|
|         o.= =++ |
|        oE+.=+o o|
|        .+.*=oo++|
|        S..+Booo=|
|        . .+..o.=|
|         ..... Bo|
|        . . .   +|
|         ...     |
+----[SHA256]-----+
```
id_rsa 文件是私有密钥，id_rsa.pub 是公开密钥。

#### 添加公开密钥

在 GitHub 中添加公开密钥，今后就可以用私有密钥进行认证了。
点击右上角的账户设定按钮（Account Settings），选择 SSH Keys 菜单。点击 AddSSH Key 之后，在 Title 中输入适当的密钥名称。Key 部分请粘贴 id_rsa.pub 文件里的内容。
id_rsa.pub的内容可以用如下方法查看。
```
$ cat ~/.ssh/id_rsa.pub
ssh-rsa公开密钥的内容your_email@example.com
```
完成以上设置后，就可以用手中的私人密钥与 GitHub 进行认证和
通信了。让我们来实际试一试。
```
$ ssh -T git@github.com
The authenticity of host 'github.com (192.30.255.113)' can't be established.
RSA key fingerprint is (fingerprint值).
Are you sure you want to continue connecting (yes/no)?输入yes
Warning: Permanently added 'github.com,192.30.255.113' (RSA) to the list of known hosts.
Enter passphrase for key '/c/Users/C.DESKTOP-3S4APJ4/.ssh/id_rsa':
```
出现如下结果即为成功。
```
Hi cuilongjin! You've successfully authenticated, but GitHub does not provide shell access.
```
#### 公开代码
clone 已有仓库
```
$ git clone git@github.com:cuilongjin/web_note.git
```

git add hello_world.html
命令将文件加入暂存区

git commit 
命令提交
git log  命令查看提交日志

git push  执行后 GitHub 上的仓库就会被更新

### Git基本操作
#### git init——初始化仓库
```
$ mkdir git-tutorial //新建
$ cd git-tutorial
$ git init
```
如果初始化成功，执行了git init命令的目录下就会生成 .git 目录。这个 .git 目录里存储着管理当前目录内容所需的仓库数据。

#### git status——查看仓库的状态
```
$ touch README.md  （建立 README.md 文件作为管理对象）
$ git status
```
#### git add——向暂存区中添加文件
```
$ git add README.md
```
#### git commit——保存仓库的历史记录
```
$ git commit -m "First commit"
```
-m参数后的"First commit"称作提交信息，是对这个提交的概述,如果想要记述得更加详细，请不加-m，直接执行git commit命令,执行后编辑器就会启动
在编辑器中记述提交信息的格式如下:  
第一行：用一行文字简述提交的更改内容  
第二行：空行  
第三行以后：记述更改的原因和详细内容  
#### git log——查看提交日志
```
$ git log
commit 9f129bae19b2c82fb4e98cde5890e52a6c546922
Author: hirocaster <hohtsuka@gmail.com>
Date:   Sun May 5 16:06:49 2013 +0900
    First commit

$ git log --pretty=short
只显示提交信息的第一行  
$ git log 目录名或文件名
显示指定目录、文件的日志

$ git log -p 文件名
显示文件的改动
```
#### git diff——查看更改前后的差别
* 查看工作树和暂存区的差别
```
$ git diff
```
  
如果尚未用git add命令向暂存区添加任何东西，则程序只会显示工作树与最新提交状态之间的差别。
“+”号标出的是新添加的行，被删除的行则用“-”号标出

* 查看工作树和最新提交的差别
```
$ git diff HEAD
```
HEAD 是指向当前分支中最新一次提交的指针

#### git branch——显示分支一览表
```
$ git branch
* master
```
master 分支左侧标有`“*”`（星号），表示这是我们当前所在的分支

* git checkout -b——创建、切换分支  
```
$ git checkout -b feature-A
```
创建名为 feature-A 的分支  
连续执行下面两条命令也能收到同样效果
```
$ git branch feature-A   //创建 feature-A 分支
$ git checkout feature-A   //将当前分支切换为 feature-A 分支
```

```
$ git checkout -  //切换回上一个分支
```
* git merge——合并分支

首先切换到 master 分支，然后执行
```
$ git merge --no-ff feature-A
```
为了在历史记录中明确记录下本次分支合并，我们需要创建合并提交。因此，在合并时加上--no-ff参数。
随后编辑器会启动，用于录入合并提交的信息。